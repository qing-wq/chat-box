import React from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import MessageItem from '../chat/MessageItem';
import { Message } from '../../types';

const MarkdownDemo: React.FC = () => {
  const demoMessages: Message[] = [
    {
      id: 1,
      role: 'user',
      content: 'è¯·å±•ç¤ºä¸€äº› Markdown åŠŸèƒ½',
      createTime: new Date().toISOString(),
    },
    {
      id: 2,
      role: 'assistant',
      content: `æ„Ÿè°¢æ‚¨å†æ¬¡æä¾›å…³äºSentinelä¸­å„ä¸ªSlotåŠŸèƒ½çš„æè¿°ã€‚ä»¥ä¸‹æ˜¯å¯¹æ‚¨åˆ—å‡ºçš„å†…å®¹è¿›è¡Œç®€è¦æ€»ç»“å’Œæ¢³ç†ï¼Œä»¥ä¾¿æ›´æ¸…æ™°åœ°å‘ˆç°æ¯ä¸ªSlotçš„ä½œç”¨ï¼š

**NodeSelectorSlot** - èŒè´£ï¼šæ”¶é›†èµ„æºçš„è°ƒç”¨è·¯å¾„ï¼Œå¹¶æ„å»ºçŠ¶æ€ç»“æ„å­˜å‚¨ã€‚
ç”¨é€”ï¼šåŸºäºè°ƒç”¨è·¯å¾„å®ç°é™æµå’Œé™çº§ï¼Œæ–¹ä¾¿è¿½è¸ªèµ„æºè°ƒç”¨å…³ç³»ã€‚

**ClusterBuilderSlot** - èŒè´£ï¼šå­˜å‚¨èµ„æºçš„ç»Ÿè®¡ä¿¡æ¯åŠè°ƒç”¨è€…ä¿¡æ¯ï¼ˆå¦‚RTã€QPSã€çº¿ç¨‹æ•°ç­‰ï¼‰ã€‚
ç”¨é€”ï¼šä¸ºå¤šç»´åº¦é™æµå’Œé™çº§æä¾›æ•°æ®æ”¯æŒã€‚

**StatisticSlot** - èŒè´£ï¼šè®°å½•å’Œç»Ÿè®¡ä¸åŒç»´åº¦çš„è¿è¡Œæ—¶æŒ‡æ ‡ç›‘æ§ä¿¡æ¯ã€‚
ç”¨é€”ï¼šæä¾›ç³»ç»Ÿæ€§èƒ½ç›‘æ§æ•°æ®ï¼Œæ”¯æŒé™æµå’Œé™çº§å†³ç­–ã€‚

**FlowSlot** - èŒè´£ï¼šæ ¹æ®é¢„è®¾é™æµè§„åˆ™åŠå‰é¢Slotç»Ÿè®¡çš„çŠ¶æ€ï¼Œè¿›è¡Œæµé‡æ§åˆ¶ã€‚
ç”¨é€”ï¼šé™åˆ¶æµé‡ï¼Œé˜²æ­¢ç³»ç»Ÿè¿‡è½½ã€‚

**AuthoritySlot** - èŒè´£ï¼šæ ¹æ®é»‘ç™½åå•é…ç½®åŠè°ƒç”¨æ¥æºä¿¡æ¯ï¼Œè¿›è¡Œè®¿é—®æ§åˆ¶ã€‚
ç”¨é€”ï¼šé€šè¿‡é»‘ç™½åå•æœºåˆ¶ä¿éšœç³»ç»Ÿå®‰å…¨ã€‚

**DegradeSlot** - èŒè´£ï¼šåŸºäºç»Ÿè®¡ä¿¡æ¯å’Œé¢„è®¾è§„åˆ™ï¼Œè¿›è¡Œç†”æ–­é™çº§ã€‚
ç”¨é€”ï¼šåœ¨ç³»ç»Ÿå¼‚å¸¸æ—¶è§¦å‘é™çº§ï¼Œä¿æŠ¤ç³»ç»Ÿç¨³å®šæ€§ã€‚

**SystemSlot** - èŒè´£ï¼šæ ¹æ®ç³»ç»ŸçŠ¶æ€ï¼ˆå¦‚loadç­‰æŒ‡æ ‡ï¼‰æ§åˆ¶æ€»å…¥å£æµé‡ã€‚
ç”¨é€”ï¼šä»ç³»ç»Ÿæ•´ä½“è´Ÿè½½è§’åº¦æ§åˆ¶æµé‡ï¼Œé¿å…èµ„æºè€—å°½ã€‚

è¿™äº›Slotæ˜¯Sentinelè´£ä»»é“¾æ¨¡å¼çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼ŒæŒ‰ç‰¹å®šé¡ºåºæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æµé‡æ§åˆ¶å’Œç³»ç»Ÿä¿æŠ¤æœºåˆ¶ã€‚æ¯ä¸ªSlotä¸“æ³¨äºç‰¹å®šåŠŸèƒ½ï¼ŒååŒå·¥ä½œä»¥ç¡®ä¿ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€‚

å¦‚æœæ‚¨æœ‰å…³äºæŸä¸ªSlotçš„å…·ä½“é—®é¢˜ï¼ˆå¦‚é…ç½®æ–¹å¼ã€ä»£ç å®ç°æˆ–ä½¿ç”¨åœºæ™¯ï¼‰ï¼Œæˆ–è€…éœ€è¦æ›´æ·±å…¥çš„è®¨è®ºï¼Œè¯·éšæ—¶å‘ŠçŸ¥ï¼Œæˆ‘å¾ˆä¹æ„æä¾›è¿›ä¸€æ­¥å¸®åŠ©ï¼ğŸ˜Š`,
      createTime: new Date().toISOString(),
    },
    {
      id: 2,
      role: 'assistant',
      content: `æ„Ÿè°¢æ‚¨å†æ¬¡æä¾›å…³äºSentinelä¸­å„ä¸ªSlotåŠŸèƒ½çš„æè¿°ã€‚ä»¥ä¸‹æ˜¯å¯¹æ‚¨åˆ—å‡ºçš„å†…å®¹è¿›è¡Œç®€è¦æ€»ç»“å’Œæ¢³ç†ï¼Œä»¥ä¾¿æ›´æ¸…æ™°åœ°å‘ˆç°æ¯ä¸ªSlotçš„ä½œç”¨ï¼š

## Sentinel Slot åŠŸèƒ½æ€»ç»“

### NodeSelectorSlot
**èŒè´£**ï¼šæ”¶é›†èµ„æºçš„è°ƒç”¨è·¯å¾„ï¼Œå¹¶æ„å»ºçŠ¶æ€ç»“æ„å­˜å‚¨ã€‚
**ç”¨é€”**ï¼šåŸºäºè°ƒç”¨è·¯å¾„å®ç°é™æµå’Œé™çº§ï¼Œæ–¹ä¾¿è¿½è¸ªèµ„æºè°ƒç”¨å…³ç³»ã€‚

### ClusterBuilderSlot
**èŒè´£**ï¼šå­˜å‚¨èµ„æºçš„ç»Ÿè®¡ä¿¡æ¯åŠè°ƒç”¨è€…ä¿¡æ¯ï¼ˆå¦‚RTã€QPSã€çº¿ç¨‹æ•°ç­‰ï¼‰ã€‚
**ç”¨é€”**ï¼šä¸ºå¤šç»´åº¦é™æµå’Œé™çº§æä¾›æ•°æ®æ”¯æŒã€‚

### StatisticSlot
**èŒè´£**ï¼šè®°å½•å’Œç»Ÿè®¡ä¸åŒç»´åº¦çš„è¿è¡Œæ—¶æŒ‡æ ‡ç›‘æ§ä¿¡æ¯ã€‚
**ç”¨é€”**ï¼šæä¾›ç³»ç»Ÿæ€§èƒ½ç›‘æ§æ•°æ®ï¼Œæ”¯æŒé™æµå’Œé™çº§å†³ç­–ã€‚

### FlowSlot
**èŒè´£**ï¼šæ ¹æ®é¢„è®¾é™æµè§„åˆ™åŠå‰é¢Slotç»Ÿè®¡çš„çŠ¶æ€ï¼Œè¿›è¡Œæµé‡æ§åˆ¶ã€‚
**ç”¨é€”**ï¼šé™åˆ¶æµé‡ï¼Œé˜²æ­¢ç³»ç»Ÿè¿‡è½½ã€‚

### AuthoritySlot
**èŒè´£**ï¼šæ ¹æ®é»‘ç™½åå•é…ç½®åŠè°ƒç”¨æ¥æºä¿¡æ¯ï¼Œè¿›è¡Œè®¿é—®æ§åˆ¶ã€‚
**ç”¨é€”**ï¼šé€šè¿‡é»‘ç™½åå•æœºåˆ¶ä¿éšœç³»ç»Ÿå®‰å…¨ã€‚

### DegradeSlot
**èŒè´£**ï¼šåŸºäºç»Ÿè®¡ä¿¡æ¯å’Œé¢„è®¾è§„åˆ™ï¼Œè¿›è¡Œç†”æ–­é™çº§ã€‚
**ç”¨é€”**ï¼šåœ¨ç³»ç»Ÿå¼‚å¸¸æ—¶è§¦å‘é™çº§ï¼Œä¿æŠ¤ç³»ç»Ÿç¨³å®šæ€§ã€‚

### SystemSlot
**èŒè´£**ï¼šæ ¹æ®ç³»ç»ŸçŠ¶æ€ï¼ˆå¦‚loadç­‰æŒ‡æ ‡ï¼‰æ§åˆ¶æ€»å…¥å£æµé‡ã€‚
**ç”¨é€”**ï¼šä»ç³»ç»Ÿæ•´ä½“è´Ÿè½½è§’åº¦æ§åˆ¶æµé‡ï¼Œé¿å…èµ„æºè€—å°½ã€‚

## æ€»ç»“

è¿™äº›Slotæ˜¯Sentinelè´£ä»»é“¾æ¨¡å¼çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼ŒæŒ‰ç‰¹å®šé¡ºåºæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æµé‡æ§åˆ¶å’Œç³»ç»Ÿä¿æŠ¤æœºåˆ¶ã€‚æ¯ä¸ªSlotä¸“æ³¨äºç‰¹å®šåŠŸèƒ½ï¼ŒååŒå·¥ä½œä»¥ç¡®ä¿ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€‚

å¦‚æœæ‚¨æœ‰å…³äºæŸä¸ªSlotçš„å…·ä½“é—®é¢˜ï¼ˆå¦‚é…ç½®æ–¹å¼ã€ä»£ç å®ç°æˆ–ä½¿ç”¨åœºæ™¯ï¼‰ï¼Œæˆ–è€…éœ€è¦æ›´æ·±å…¥çš„è®¨è®ºï¼Œè¯·éšæ—¶å‘ŠçŸ¥ï¼Œæˆ‘å¾ˆä¹æ„æä¾›è¿›ä¸€æ­¥å¸®åŠ©ï¼ğŸ˜Š`,
      createTime: new Date().toISOString(),
    },
    {
      id: 3,
      role: 'user',
      content: 'æµ‹è¯•æ¢è¡Œç¬¦å¤„ç†',
    },
    {
      id: 4,
      role: 'assistant',
      content: `å½“ç„¶ï¼ä»¥ä¸‹æ˜¯ä¸€æ®µä½¿ç”¨ Markdown æ ¼å¼ç¼–å†™çš„ç¤ºä¾‹å†…å®¹ï¼š

## æ ‡é¢˜ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ª **ç²—ä½“æ–‡å­—** å’Œ *æ–œä½“æ–‡å­—* çš„ç¤ºä¾‹ã€‚

### ä»£ç ç¤ºä¾‹

\`\`\`javascript
function greetUser(name) {
    console.log("Hello, " + name + "!");
    return "Welcome!";
}

// è°ƒç”¨å‡½æ•°
greetUser("World");
\`\`\`

### åˆ—è¡¨ç¤ºä¾‹

#### æ— åºåˆ—è¡¨ï¼š
- ç¬¬ä¸€é¡¹å†…å®¹
- ç¬¬äºŒé¡¹å†…å®¹
- ç¬¬ä¸‰é¡¹å†…å®¹

#### æœ‰åºåˆ—è¡¨ï¼š
1. é¦–å…ˆåšè¿™ä¸ª
2. ç„¶ååšé‚£ä¸ª
3. æœ€åå®Œæˆè¿™ä¸ª

### å¼•ç”¨ç¤ºä¾‹

> è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨å—çš„ç¤ºä¾‹ã€‚
>
> å®ƒå¯ä»¥åŒ…å«å¤šè¡Œå†…å®¹ï¼Œ
> å¹¶ä¸”æ”¯æŒ **æ ¼å¼åŒ–æ–‡å­—**ã€‚

### é“¾æ¥ç¤ºä¾‹

è®¿é—® [GitHub](https://github.com) äº†è§£æ›´å¤šä¿¡æ¯ã€‚

---

è¿™æ ·çš„æ ¼å¼åŒ–å†…å®¹åº”è¯¥èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºæ¢è¡Œå’Œå„ç§ Markdown å…ƒç´ ï¼`,
      createTime: new Date().toISOString(),
    },
    {
      id: 4,
      role: 'assistant',
      content: `å½“ç„¶å¯ä»¥ï¼ä»¥ä¸‹æ˜¯ä¸€äº›æ•°å­¦å…¬å¼çš„ä¾‹å­ï¼š

## å†…è”å…¬å¼
è¿™æ˜¯ä¸€ä¸ªè‘—åçš„å…¬å¼ï¼š$E = mc^2$

## å—çº§å…¬å¼

### ç§¯åˆ†å…¬å¼
$$\\int_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi}$$

### æ­£æ€åˆ†å¸ƒ
$$f(x) = \\frac{1}{\\sqrt{2\\pi\\sigma^2}} e^{-\\frac{(x-\\mu)^2}{2\\sigma^2}}$$

### æ±‚å’Œå…¬å¼
$$\\sum_{i=1}^{n} i = \\frac{n(n+1)}{2}$$`,
      createTime: new Date().toISOString(),
    },
    {
      id: 5,
      role: 'user',
      content: 'è¯·å±•ç¤ºä¸€ä¸ªè¡¨æ ¼ç¤ºä¾‹',
      createTime: new Date().toISOString(),
    },
    {
      id: 6,
      role: 'assistant',
      content: `å½“ç„¶ï¼ä»¥ä¸‹æ˜¯ä¸€ä¸ªMarkdownè¡¨æ ¼çš„ç¤ºä¾‹ï¼š

## æŠ€æœ¯æ ˆå¯¹æ¯”è¡¨

| æŠ€æœ¯æ ˆ | è¯­è¨€ | æ¡†æ¶ | æ•°æ®åº“ | é€‚ç”¨åœºæ™¯ | å­¦ä¹ éš¾åº¦ |
|--------|------|------|--------|----------|----------|
| LAMP | PHP | Laravel | MySQL | Webå¼€å‘ | â­â­â­ |
| MEAN | JavaScript | Angular | MongoDB | å…¨æ ˆå¼€å‘ | â­â­â­â­ |
| Django | Python | Django | PostgreSQL | å¿«é€Ÿå¼€å‘ | â­â­â­ |
| Spring | Java | Spring Boot | MySQL | ä¼ä¸šçº§åº”ç”¨ | â­â­â­â­â­ |
| Rails | Ruby | Ruby on Rails | PostgreSQL | æ•æ·å¼€å‘ | â­â­â­â­ |

## æ€§èƒ½å¯¹æ¯”è¡¨

| æŒ‡æ ‡ | Spring Boot | Express.js | Django | Laravel |
|------|-------------|------------|---------|---------|
| **å“åº”æ—¶é—´ (ms)** | 45 | 12 | 35 | 55 |
| **å¹¶å‘å¤„ç†** | 10,000+ | 15,000+ | 8,000+ | 6,000+ |
| **å†…å­˜å ç”¨ (MB)** | 150 | 50 | 80 | 70 |
| **å¼€å‘æ•ˆç‡** | é«˜ | å¾ˆé«˜ | é«˜ | å¾ˆé«˜ |

## ç®€å•æ•°æ®è¡¨

| é¡¹ç›® | çŠ¶æ€ | è¿›åº¦ |
|------|------|------|
| å‰ç«¯å¼€å‘ | âœ… å®Œæˆ | 100% |
| åç«¯API | ğŸ”„ è¿›è¡Œä¸­ | 80% |
| æ•°æ®åº“è®¾è®¡ | âœ… å®Œæˆ | 100% |
| æµ‹è¯•éƒ¨ç½² | â³ å¾…å¼€å§‹ | 0% |

è¿™äº›è¡¨æ ¼åº”è¯¥èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºï¼ŒåŒ…æ‹¬å¯¹é½ã€è¾¹æ¡†å’Œæ ·å¼ï¼`,
      createTime: new Date().toISOString(),
    },
  ];

  return (
    <div className="p-6 max-w-6xl mx-auto">
      <Card className="mb-6">
        <CardHeader>
          <CardTitle>Markdown æ¸²æŸ“æ¼”ç¤º</CardTitle>
        </CardHeader>
        <CardContent>
          <p className="text-muted-foreground">
            ä»¥ä¸‹å±•ç¤ºäº†èŠå¤©æ¶ˆæ¯ä¸­ Markdown
            çš„æ¸²æŸ“æ•ˆæœï¼ŒåŒ…æ‹¬ä»£ç é«˜äº®ã€æ•°å­¦å…¬å¼ã€è¡¨æ ¼ç­‰åŠŸèƒ½ã€‚
          </p>
        </CardContent>
      </Card>

      <div className="space-y-4">
        {demoMessages.map((message) => (
          <Card key={message.id}>
            <CardContent className="p-0">
              <MessageItem message={message} />
            </CardContent>
          </Card>
        ))}
      </div>
    </div>
  );
};

export default MarkdownDemo;
